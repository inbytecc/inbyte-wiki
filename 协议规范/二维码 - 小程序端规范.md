# **二维码 - 小程序端规范**

# **背景**

运营希望小程序分享能够追溯分享人与被分享者关系，以便提高用户分享积极性，从而达到营销效果提升，以及数据分析等作用

# 

# **功能**

实现业务事件数据可分析，可追溯

支持用户自主查看分享数据



# **二维码来源**

小程序用户分享

后台系统生成



# **办法**

带有分享业务事件，统一执行以下规范



# **规范**

#### **小程序二维码分享**

二维码统一通过 App 接口获取

接口地址：[生成二维码，获取图片数据流](https://app.inbyte.com/api/qr-code/weixin/mini-program/get)

接口文档：[Apifox](https://www.apifox.cn/link/project/2245110/apis/api-68850626)

#### **提交参数：**

| 字段      | 必填 |              |
| --------- | ---- | ------------ |
| path      | 是   | 当前页面路径 |
| pathParam | 是   | JSON对象格式 |



#### **响应结果**
二维码数据流


#### **二维码数据**

qcid=1&qctp=0

为了符合queryString长度，简化参数名称

qcid=q

qctp=t


#### **扫码事件：**
1. 小程序本地持久保留二维码数据参数
2. 通知后端扫码事件

接口地址：

接口文档：



#### **特定接口：**

用户注册携带 qcid 与 qctp 字段，以便建立推荐关系



#### **服务端数据埋点：**

根据用户推荐信息，在形成转换的事件操作，如注册，预约，购买，交易等记录事件数据，以便做用户奖励，以及商业数据分析



#### **后续扩展**

抖音二维码

支付宝二维码

每个码都区分用户、商家生成